import{a as l,j as s,L as g,r as c,T as x,I as h,P as j}from"./index-CRTGJboE.js";const{Axios:T,AxiosError:u,CanceledError:$,isCancel:q,CancelToken:M,VERSION:R,all:b,Cancel:k,isAxiosError:H,spread:O,toFormData:D,AxiosHeaders:J,HttpStatusCode:V,formToJSON:X,getAdapter:z,mergeConfig:B}=l,p="_title_645lq_1",f="_search_645lq_15",i={title:p,"search-wrapper":"_search-wrapper_645lq_15",search:f},N="_card_1eswg_1",v="_img_1eswg_15",w="_composition_1eswg_25",E="_price_1eswg_35",C="_rate_1eswg_105",y="_info_1eswg_139",S="_name_1eswg_157",A="_description_1eswg_167",r={card:N,img:v,composition:w,price:E,"add-to-cart":"_add-to-cart_1eswg_73",rate:C,info:y,name:S,description:A},I=e=>s.jsx(g,{to:`/product/${e.id}`,children:s.jsxs("div",{className:r.card,children:[s.jsx("img",{className:r.img,src:e.image,alt:""}),s.jsxs("div",{className:r.price,children:[s.jsx("span",{children:e.price}),s.jsx("span",{children:"₽"})]}),s.jsx("button",{type:"button",className:r["add-to-cart"],children:s.jsx("img",{src:"/add-to-cart.svg",alt:""})}),s.jsxs("div",{className:r.rate,children:[s.jsx("span",{children:e.rating}),s.jsx("img",{src:"/rate-star.svg",alt:""})]}),s.jsxs("div",{className:r.info,children:[s.jsx("div",{className:r.name,children:e.name}),s.jsx("div",{className:r.description,children:e.description})]})]})}),L={"menu-cards":"_menu-cards_1d7wr_1"},F=({products:e})=>s.jsx("div",{className:L["menu-cards"],children:e.map(a=>s.jsx(I,{id:a.id,name:a.name,description:a.ingredients.join(", "),image:a.image,price:a.price,rating:a.rating}))}),G=()=>{const[e,a]=c.useState([]),[n,o]=c.useState(!1),[d,m]=c.useState(),_=async()=>{try{const{data:t}=await l.get(`${j}/products`);a(t),o(!1)}catch(t){console.error(t),t instanceof u&&m(t.message),o(!1);return}};return c.useEffect(()=>{_()},[]),s.jsxs("div",{className:i.menu,children:[s.jsxs("div",{className:i.title,children:[s.jsx(x,{children:"Меню"}),s.jsxs("div",{className:i["search-wrapper"],children:[s.jsx("img",{src:"/search-icon.svg",alt:"Поиск"}),s.jsx(h,{className:i.search,placeholder:"Введите блюдо или состав"})]})]}),s.jsxs("div",{children:[d&&s.jsx(s.Fragment,{children:d}),!n&&s.jsx(F,{products:e}),n&&s.jsx(s.Fragment,{children:"Загружаем продукты..."})]})]})};export{G as Menu,G as default};
